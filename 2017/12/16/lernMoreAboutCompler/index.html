<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="">





  <meta name="keywords" content="iOSå­¦ä¹ ," />










<meta name="description" content="å¸¸ç”¨çš„clangå‘½ä»¤ clang  -rewrite-objc  main.m å°†objæ–‡ä»¶é‡å†™ä¸º cï¼Œ c++æ–‡ä»¶ clang -Xclang -ast-dump -fsyntax-only main.m ç”Ÿæˆæ–‡ä»¶ç”Ÿæˆæ ‘ clang -Xclang -dump-tokens main.m è¿™é‡Œä¼šæŠŠä»£ç åˆ‡æˆä¸€ä¸ªä¸ª To">
<meta name="keywords" content="iOSå­¦ä¹ ">
<meta property="og:type" content="article">
<meta property="og:title" content="æ·±å…¥ç†è§£iOSç¼–è¯‘è¿‡ç¨‹">
<meta property="og:url" content="http://www.jianshu.com/u/5e73c3aefeb5/2017/12/16/lernMoreAboutCompler/index.html">
<meta property="og:site_name" content="LY&#39;s Blog">
<meta property="og:description" content="å¸¸ç”¨çš„clangå‘½ä»¤ clang  -rewrite-objc  main.m å°†objæ–‡ä»¶é‡å†™ä¸º cï¼Œ c++æ–‡ä»¶ clang -Xclang -ast-dump -fsyntax-only main.m ç”Ÿæˆæ–‡ä»¶ç”Ÿæˆæ ‘ clang -Xclang -dump-tokens main.m è¿™é‡Œä¼šæŠŠä»£ç åˆ‡æˆä¸€ä¸ªä¸ª Tokenï¼Œæ¯”å¦‚å¤§å°æ‹¬å·ï¼Œç­‰äºå·è¿˜æœ‰å­—ç¬¦ä¸²ç­‰   æ ¹æ®ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è§‚å¯Ÿæ˜¯å¦‚ä½•è¿›è¡Œ">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/3262069-7cc2005d1cf537b4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/3262069-7f0c710fc976739e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/3262069-268970a33e4a777b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/3262069-10a02cb1a019e4d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/3262069-4c9b4433ea0c503a.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2017-12-16T14:14:23.555Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æ·±å…¥ç†è§£iOSç¼–è¯‘è¿‡ç¨‹">
<meta name="twitter:description" content="å¸¸ç”¨çš„clangå‘½ä»¤ clang  -rewrite-objc  main.m å°†objæ–‡ä»¶é‡å†™ä¸º cï¼Œ c++æ–‡ä»¶ clang -Xclang -ast-dump -fsyntax-only main.m ç”Ÿæˆæ–‡ä»¶ç”Ÿæˆæ ‘ clang -Xclang -dump-tokens main.m è¿™é‡Œä¼šæŠŠä»£ç åˆ‡æˆä¸€ä¸ªä¸ª Tokenï¼Œæ¯”å¦‚å¤§å°æ‹¬å·ï¼Œç­‰äºå·è¿˜æœ‰å­—ç¬¦ä¸²ç­‰   æ ¹æ®ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è§‚å¯Ÿæ˜¯å¦‚ä½•è¿›è¡Œ">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/3262069-7cc2005d1cf537b4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":30,"b2t":true,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.jianshu.com/u/5e73c3aefeb5/2017/12/16/lernMoreAboutCompler/"/>





  <title>æ·±å…¥ç†è§£iOSç¼–è¯‘è¿‡ç¨‹ | LY's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">LY's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">æœ€æ€•ä½ ä¸€ç”Ÿç¢Œç¢Œæ— ä¸ºï¼Œå´å‘Šè¯‰è‡ªå·±å¹³å‡¡å¯è´µ</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.jianshu.com/u/5e73c3aefeb5/2017/12/16/lernMoreAboutCompler/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenglanya">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/images/avatar/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LY's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">æ·±å…¥ç†è§£iOSç¼–è¯‘è¿‡ç¨‹</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-12-16T22:14:23+08:00">
                2017-12-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå­¦ä¹ /" itemprop="url" rel="index">
                    <span itemprop="name">iOSå­¦ä¹ </span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="å¸¸ç”¨çš„clangå‘½ä»¤"><a href="#å¸¸ç”¨çš„clangå‘½ä»¤" class="headerlink" title="å¸¸ç”¨çš„clangå‘½ä»¤"></a>å¸¸ç”¨çš„clangå‘½ä»¤</h3><ul>
<li><code>clang  -rewrite-objc  main.m</code> å°†objæ–‡ä»¶é‡å†™ä¸º cï¼Œ c++æ–‡ä»¶</li>
<li><code>clang -Xclang -ast-dump -fsyntax-only main.m</code> ç”Ÿæˆæ–‡ä»¶ç”Ÿæˆæ ‘</li>
<li><code>clang -Xclang -dump-tokens main.m</code> è¿™é‡Œä¼šæŠŠä»£ç åˆ‡æˆä¸€ä¸ªä¸ª Tokenï¼Œæ¯”å¦‚å¤§å°æ‹¬å·ï¼Œç­‰äºå·è¿˜æœ‰å­—ç¬¦ä¸²ç­‰</li>
</ul>
<ul>
<li><p>æ ¹æ®ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è§‚å¯Ÿæ˜¯å¦‚ä½•è¿›è¡Œç¼–è¯‘çš„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line">#define DEFINEEight 8</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        int eight = DEFINEEight;</span><br><span class="line">        int six = 6;</span><br><span class="line">        NSString* site = [[NSString alloc] initWithUTF8String:&quot;starming&quot;];</span><br><span class="line">        int rank = eight + six;</span><br><span class="line">        NSLog(@&quot;%@ rank %d&quot;, site, rank);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç¼–è¯‘æµç¨‹"><a href="#ç¼–è¯‘æµç¨‹" class="headerlink" title="ç¼–è¯‘æµç¨‹"></a>ç¼–è¯‘æµç¨‹</h3><ul>
<li><p>åœ¨å‘½ä»¤è¡Œç¼–è¯‘</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">xcrun -sdk iphoneos clang -arch armv7 -F Foundation -fobjc-arc -c main.m -o main.o</span><br><span class="line">xcrun -sdk iphoneos clang main.o -arch armv7 -fobjc-arc -framework Foundation -o main</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> è¿™æ ·è¿˜æ²¡æ³•çœ‹æ¸…clangçš„å…¨éƒ¨è¿‡ç¨‹ï¼Œå¯ä»¥é€šè¿‡-EæŸ¥çœ‹clangåœ¨é¢„å¤„ç†å¤„ç†è¿™æ­¥åšäº†ä»€ä¹ˆã€‚</span><br><span class="line">clang -E main.m</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> æ‰§è¡Œå®Œåå¯ä»¥çœ‹åˆ°æ–‡ä»¶</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 1 "/System/Library/Frameworks/Foundation.framework/Headers/FoundationLegacySwiftCompatibility.h" 1 3</span><br><span class="line"><span class="meta">#</span> 185 "/System/Library/Frameworks/Foundation.framework/Headers/Foundation.h" 2 3</span><br><span class="line"><span class="meta">#</span> 2 "main.m" 2</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        int eight = 8;</span><br><span class="line">        int six = 6;</span><br><span class="line">        NSString* site = [[NSString alloc] initWithUTF8String:"starming"];</span><br><span class="line">        int rank = eight + six;</span><br><span class="line">        NSLog(@"%@ rank %d", site, rank);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> è¿™ä¸ªè¿‡ç¨‹çš„å¤„ç†åŒ…æ‹¬å®çš„æ›¿æ¢ï¼Œå¤´æ–‡ä»¶çš„å¯¼å…¥ï¼Œä»¥åŠç±»ä¼¼#ifçš„å¤„ç†ã€‚é¢„å¤„ç†å®Œæˆåå°±ä¼šè¿›è¡Œè¯æ³•åˆ†æï¼Œè¿™é‡Œä¼šæŠŠä»£ç åˆ‡æˆä¸€ä¸ªä¸ª Tokenï¼Œæ¯”å¦‚å¤§å°æ‹¬å·ï¼Œç­‰äºå·è¿˜æœ‰å­—ç¬¦ä¸²ç­‰ã€‚</span><br><span class="line">clang -fmodules -fsyntax-only -Xclang -dump-tokens main.m</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç„¶åæ˜¯è¯­æ³•åˆ†æï¼ŒéªŒè¯è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼Œç„¶åå°†æ‰€æœ‰èŠ‚ç‚¹ç»„æˆæŠ½è±¡è¯­æ³•æ ‘ AST ã€‚</span><br><span class="line">clang -fmodules -fsyntax-only -Xclang -ast-dump main.m</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å®Œæˆè¿™äº›æ­¥éª¤åå°±å¯ä»¥å¼€å§‹IRä¸­é—´ä»£ç çš„ç”Ÿæˆäº†ï¼ŒCodeGen ä¼šè´Ÿè´£å°†è¯­æ³•æ ‘è‡ªé¡¶å‘ä¸‹éå†é€æ­¥ç¿»è¯‘æˆ LLVM IRï¼ŒIR æ˜¯ç¼–è¯‘è¿‡ç¨‹çš„å‰ç«¯çš„è¾“å‡ºåç«¯çš„è¾“å…¥ã€‚</span><br><span class="line">clang -S -fobjc-arc -emit-llvm main.m -o main.ll</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> è¿™é‡Œ LLVM ä¼šå»åšäº›ä¼˜åŒ–å·¥ä½œï¼Œåœ¨ Xcode çš„ç¼–è¯‘è®¾ç½®é‡Œä¹Ÿå¯ä»¥è®¾ç½®ä¼˜åŒ–çº§åˆ«-01ï¼Œ-03ï¼Œ-0sï¼Œè¿˜å¯ä»¥å†™äº›è‡ªå·±çš„ Passã€‚</span><br><span class="line"><span class="meta">#</span> Pass æ˜¯ LLVM ä¼˜åŒ–å·¥ä½œçš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹åšäº›äº‹ï¼Œä¸€èµ·åŠ èµ·æ¥å°±æ„æˆäº† LLVM å®Œæ•´çš„ä¼˜åŒ–å’Œè½¬åŒ–ã€‚</span><br><span class="line"><span class="meta">#</span> å¦‚æœå¼€å¯äº† bitcode è‹¹æœä¼šåšè¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œæœ‰æ–°çš„åç«¯æ¶æ„è¿˜æ˜¯å¯ä»¥ç”¨è¿™ä»½ä¼˜åŒ–è¿‡çš„ bitcode å»ç”Ÿæˆã€‚</span><br><span class="line">clang -emit-llvm -c main.m -o main.bc</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç”Ÿæˆæ±‡ç¼–</span><br><span class="line">clang -S -fobjc-arc main.m -o main.s</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç”Ÿæˆç›®æ ‡æ–‡ä»¶</span><br><span class="line">clang -fmodules -c main.m -o main.o</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™æ ·å°±èƒ½å¤Ÿæ‰§è¡Œçœ‹åˆ°è¾“å‡ºç»“æœ</span><br><span class="line">clang main.o -o main</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> æ‰§è¡Œ</span><br><span class="line">./main</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> è¾“å‡º</span><br><span class="line">starming rank 14</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ä¸‹é¢æ˜¯å®Œæ•´æ­¥éª¤</p>
<ul>
<li>ç¼–è¯‘ä¿¡æ¯å†™å…¥è¾…åŠ©æ–‡ä»¶ï¼Œåˆ›å»ºæ–‡ä»¶æ¶æ„ .app æ–‡ä»¶</li>
<li>å¤„ç†æ–‡ä»¶æ‰“åŒ…ä¿¡æ¯</li>
<li>æ‰§è¡Œ CocoaPod ç¼–è¯‘å‰è„šæœ¬ï¼ŒcheckPods Manifest.lock</li>
<li>ç¼–è¯‘.mæ–‡ä»¶ï¼Œä½¿ç”¨ CompileC å’Œ clang å‘½ä»¤</li>
<li>é“¾æ¥éœ€è¦çš„ Framework</li>
<li>ç¼–è¯‘ xib</li>
<li>æ‹·è´ xib ï¼Œèµ„æºæ–‡ä»¶</li>
<li>ç¼–è¯‘ ImageAssets</li>
<li>å¤„ç† info.plist</li>
<li>æ‰§è¡Œ CocoaPod è„šæœ¬</li>
<li>æ‹·è´æ ‡å‡†åº“</li>
<li>åˆ›å»º .app æ–‡ä»¶å’Œç­¾å</li>
</ul>
</li>
</ul>
<ul>
<li><p>åœ¨ Xcode ä¸­æŸ¥çœ‹ clang ç¼–è¯‘ .m æ–‡ä»¶çš„è¿‡ç¨‹</p>
<ul>
<li><p>åœ¨ Xcode ç¼–è¯‘è¿‡åï¼Œå¯ä»¥é€šè¿‡ Show the report navigator é‡Œå¯¹åº” target çš„ build ä¸­æŸ¥çœ‹æ¯ä¸ª .m æ–‡ä»¶çš„ clang ç¼–è¯‘ä¿¡æ¯ã€‚å¯ä»¥ç›´æ¥åœ¨ help ä¸­æœç´¢ â€œ Show the report navigator â€ å°±ä¼šå‡ºç°</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3262069-7cc2005d1cf537b4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åœ¨Xcodeä¸­æŸ¥çœ‹ç¼–è¯‘è¿‡ç¨‹.png"></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>ä½¿ç”¨ç¼–è¯‘ Masonry æ¡†æ¶çš„ MASCompositeConstraint.m ä¸ºä¾‹ï¼Œ é¦–å…ˆå¯¹ä»»åŠ¡è¿›è¡Œæè¿°</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CompileC /Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/Objects-normal/x86_64/MASCompositeConstraint.o </span><br><span class="line"></span><br><span class="line">Masonry/Masonry/MASCompositeConstraint.m normal x86_64 objective-c com.apple.compilers.llvm.clang.1_0.compiler</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ›´æ–°å·¥ä½œè·¯å¾„ï¼ŒåŒæ—¶è®¾ç½® PATH</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /Users/lanya/Desktop/Neuer_iOS/Pods</span><br><span class="line">    export LANG=en_US.US-ASCII</span><br><span class="line">    export PATH="/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¥ä¸‹æ¥æ˜¯å®é™…çš„ç¼–è¯‘å‘½ä»¤</p>
<ul>
<li><p>å…ˆä»‹ç»ä¸€ä¸‹ clang çš„å‘½ä»¤å‚æ•°ï¼Œå†çœ‹ğŸ‘‡çš„ç¼–è¯‘å‘½ä»¤ä¼šæ›´å®¹æ˜“ç†è§£</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">clang å‘½ä»¤å‚æ•°</span><br><span class="line"></span><br><span class="line">-x ç¼–è¯‘è¯­è¨€æ¯”å¦‚objective-c</span><br><span class="line">-arch ç¼–è¯‘çš„æ¶æ„ï¼Œæ¯”å¦‚arm7</span><br><span class="line">-f ä»¥-få¼€å¤´çš„ã€‚</span><br><span class="line">-W ä»¥-Wå¼€å¤´çš„ï¼Œå¯ä»¥é€šè¿‡è¿™äº›å®šåˆ¶ç¼–è¯‘è­¦å‘Š</span><br><span class="line">-D ä»¥-Då¼€å¤´çš„ï¼ŒæŒ‡çš„æ˜¯é¢„ç¼–è¯‘å®ï¼Œé€šè¿‡è¿™äº›å®å¯ä»¥å®ç°æ¡ä»¶ç¼–è¯‘</span><br><span class="line">-iPhoneSimulator11.1.sdk ç¼–è¯‘é‡‡ç”¨çš„iOS SDKç‰ˆæœ¬</span><br><span class="line">-I æŠŠç¼–è¯‘ä¿¡æ¯å†™å…¥æŒ‡å®šçš„è¾…åŠ©æ–‡ä»¶</span><br><span class="line">-F éœ€è¦çš„Framework</span><br><span class="line">-c æ ‡è¯†ç¬¦æŒ‡æ˜éœ€è¦è¿è¡Œé¢„å¤„ç†å™¨ï¼Œè¯­æ³•åˆ†æï¼Œç±»å‹æ£€æŸ¥ï¼ŒLLVMç”Ÿæˆä¼˜åŒ–ä»¥åŠæ±‡ç¼–ä»£ç ç”Ÿæˆ.oæ–‡ä»¶</span><br><span class="line">-o ç¼–è¯‘ç»“æœ</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>å…·ä½“çš„ç¼–è¯‘è¿‡ç¨‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c -arch x86_64 -fmessage-length=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -std=gnu11 -fobjc-arc -fmodules -gmodules -fmodules-cache-path=/Users/lanya/Library/Developer/Xcode/DerivedData/ModuleCache -fmodules-prune-interval=86400 -fmodules-prune-after=345600 -fbuild-session-file=/Users/lanya/Library/Developer/Xcode/DerivedData/ModuleCache/Session.modulevalidation -fmodules-validate-once-per-build-session -Wnon-modular-include-in-framework-module -Werror=non-modular-include-in-framework-module -fmodule-name=Masonry -fapplication-extension -Wno-trigraphs -fpascal-strings -O0 -fno-common -Wno-missing-field-initializers -Wno-missing-prototypes -Werror=return-type -Wdocumentation -Wunreachable-code -Wno-implicit-atomic-properties -Werror=deprecated-objc-isa-usage -Werror=objc-root-class -Wno-arc-repeated-use-of-weak -Wduplicate-method-match -Wno-missing-braces -Wparentheses -Wswitch -Wunused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wempty-body -Wuninitialized -Wconditional-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wconstant-conversion -Wint-conversion -Wbool-conversion -Wenum-conversion -Wno-float-conversion -Wnon-literal-null-conversion -Wobjc-literal-conversion -Wshorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wundeclared-selector -Wno-deprecated-implementations -DPOD_CONFIGURATION_DEBUG=1 -DDEBUG=1 -DCOCOAPODS=1 -DOBJC_OLD_DISPATCH_PROTOTYPES=0 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator11.2.sdk -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -mios-simulator-version-min=8.0 -g -Wno-sign-conversion -Winfinite-recursion -Wcomma -Wblock-capture-autoreleasing -Wstrict-prototypes -Wunguarded-availability -fobjc-abi-version=2 -fobjc-legacy-dispatch -index-store-path /Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Index/DataStore -iquote /Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/Masonry-generated-files.hmap -I/Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/Masonry-own-target-headers.hmap -I/Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/Masonry-all-non-framework-target-headers.hmap -ivfsoverlay /Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/all-product-headers.yaml -iquote /Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/Masonry-project-headers.hmap -I/Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Products/Debug-iphonesimulator/Masonry/include -I/Users/lanya/Desktop/Neuer_iOS/Pods/Headers/Private -I/Users/lanya/Desktop/Neuer_iOS/Pods/Headers/Public -I/Users/lanya/Desktop/Neuer_iOS/Pods/Headers/Public/PgyUpdate -I/Users/lanya/Desktop/Neuer_iOS/Pods/Headers/Public/Pgyer -I/Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/DerivedSources/x86_64 -I/Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/DerivedSources -F/Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Products/Debug-iphonesimulator/Masonry -include /Users/lanya/Desktop/Neuer_iOS/Pods/Target\ Support\ Files/Masonry/Masonry-prefix.pch -MMD -MT dependencies -MF /Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/Objects-normal/x86_64/MASCompositeConstraint.d --serialize-diagnostics /Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/Objects-normal/x86_64/MASCompositeConstraint.dia -c /Users/lanya/Desktop/Neuer_iOS/Pods/Masonry/Masonry/MASCompositeConstraint.m -o /Users/lanya/Library/Developer/Xcode/DerivedData/NEUer-bjvoyplxzoxgkpgkiodfvurkgzwn/Build/Intermediates.noindex/Pods.build/Debug-iphonesimulator/Masonry.build/Objects-normal/x86_64/MASCompositeConstraint.o</span><br></pre></td></tr></table></figure>
<p>â€‹</p>
<ul>
<li><p>ç¼–è¯‘å®Œç¬¬ä¸‰æ–¹åº“åä¼šè¿›è¡Œæ„å»ºæˆ‘ä»¬ç¨‹åºçš„ target</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Create product structure                          </span><br><span class="line">Process product packaging</span><br><span class="line">Run custom shell script 'Check Pods Manifest.lock'</span><br><span class="line">Compile ... å„ä¸ªé¡¹ç›®ä¸­çš„.mæ–‡ä»¶</span><br><span class="line">Link /Users/... è·¯å¾„</span><br><span class="line">Copy ... é™æ€æ–‡ä»¶</span><br><span class="line">Compile asset catalogs</span><br><span class="line">Compile Storyboard file ...</span><br><span class="line"></span><br><span class="line">Process info.plist</span><br><span class="line">Link Storyboards</span><br><span class="line">Run custom shell script 'Embed Pods Frameworks'</span><br><span class="line">Run custom shell script 'Copy Pods Resources'</span><br><span class="line">...</span><br><span class="line">Touch NEUer.app</span><br><span class="line">Sign NEUer.app</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/3262069-7f0c710fc976739e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="target.png"></p>
<ul>
<li><p>Target åœ¨ Build è¿‡ç¨‹çš„æ§åˆ¶</p>
<ul>
<li>åœ¨ Xcode çš„ Project editor ä¸­çš„ Build Settingï¼ŒBuild Phases å’Œ Build Rules èƒ½å¤Ÿæ§åˆ¶ç¼–è¯‘çš„è¿‡ç¨‹ã€‚</li>
</ul>
</li>
<li><p>Build Phases</p>
<ul>
<li>æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶çš„è§„åˆ™ã€‚æŒ‡å®š target çš„ä¾èµ–é¡¹ç›®ï¼Œåœ¨ target build ä¹‹å‰éœ€è¦å…ˆ build çš„ä¾èµ–ã€‚åœ¨ Compile Source ä¸­æŒ‡å®šæ‰€æœ‰å¿…é¡»ç¼–è¯‘çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¼šæ ¹æ® Build Setting å’Œ Build Rules é‡Œçš„è®¾ç½®æ¥å¤„ç†ã€‚</li>
<li>åœ¨ Link Binary With Libraries é‡Œä¼šåˆ—å‡ºæ‰€æœ‰çš„é™æ€åº“å’ŒåŠ¨æ€åº“ï¼Œå®ƒä»¬ä¼šå’Œç¼–è¯‘ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶è¿›è¡Œé“¾æ¥ã€‚</li>
<li>build phase è¿˜ä¼šæŠŠé™æ€èµ„æºæ‹·è´åˆ° bundle é‡Œã€‚</li>
<li>å¯ä»¥é€šè¿‡åœ¨ build phases é‡Œæ·»åŠ è‡ªå®šä¹‰è„šæœ¬æ¥åšäº›äº‹æƒ…ï¼Œæ¯”å¦‚åƒ CocoaPods æ‰€åšçš„é‚£æ ·ã€‚</li>
</ul>
</li>
<li><p>Bulid Rules</p>
<ul>
<li>æŒ‡å®šä¸åŒæ–‡ä»¶ç±»å‹å¦‚ä½•ç¼–è¯‘ã€‚æ¯æ¡ build rule æŒ‡å®šäº†è¯¥ç±»å‹å¦‚ä½•å¤„ç†ä»¥åŠè¾“å‡ºåœ¨å“ªã€‚å¯ä»¥å¢åŠ ä¸€æ¡æ–°è§„åˆ™å¯¹ç‰¹å®šæ–‡ä»¶ç±»å‹æ·»åŠ å¤„ç†æ–¹æ³•ã€‚</li>
</ul>
</li>
<li><p>Bulid Settings</p>
<ul>
<li>åœ¨ build çš„è¿‡ç¨‹ä¸­å„ä¸ªé˜¶æ®µçš„é€‰é¡¹çš„è®¾ç½®ã€‚</li>
</ul>
</li>
<li><p>pbxproj å·¥ç¨‹æ–‡ä»¶</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3262069-268970a33e4a777b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ˜¾ç¤ºåŒ…å†…å®¹.png"></p>
</li>
</ul>
<p>   <img src="http://upload-images.jianshu.io/upload_images/3262069-10a02cb1a019e4d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ‰“å¼€åŒ….png"></p>
<pre><code>* build è¿‡ç¨‹æ§åˆ¶çš„è¿™äº›è®¾ç½®éƒ½ä¼šè¢«ä¿å­˜åœ¨å·¥ç¨‹æ–‡ä»¶ .pbxproj é‡Œã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¯ä»¥æ‰¾ rootObject çš„ ID å€¼

* ç„¶åæ ¹æ®è¿™ä¸ª ID æ‰¾åˆ° main å·¥ç¨‹çš„å®šä¹‰ã€‚

  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* Begin PBXProject section */</span><br><span class="line">        2EC5E1AA1E7814B200BAB0EF /* Project object */ = &#123;</span><br><span class="line">			isa = PBXProject;</span><br><span class="line">			......</span><br><span class="line">/* End PBXProject section */</span><br></pre></td></tr></table></figure>

* åœ¨ targets é‡Œä¼šæŒ‡å‘å„ä¸ª taget çš„å®šä¹‰

  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">targets = (</span><br><span class="line">				2EC5E1B11E7814B200BAB0EF /* EWork */,</span><br><span class="line">			);</span><br><span class="line"></span><br><span class="line">// æ ¹æ® 2EC5E1B11E7814B200BAB0EF å¯ä»¥æ‰¾åˆ°å…·ä½“å„ä¸ªçš„å®šä¹‰</span><br><span class="line">/**</span><br><span class="line">	è¿™ä¸ªé‡Œé¢åˆæœ‰æ›´å¤šçš„ ID å¯ä»¥å¾—åˆ°æ›´å¤šçš„å®šä¹‰ï¼Œå…¶ä¸­ buildConfigurationList æŒ‡å‘äº†å¯ç”¨çš„é…ç½®é¡¹ï¼ŒåŒ…å« Debug å’Œ Releaseã€‚å¯ä»¥çœ‹åˆ°è¿˜æœ‰ buildPhasesï¼ŒbuildRules å’Œ dependencies éƒ½èƒ½å¤Ÿé€šè¿‡è¿™é‡Œç´¢å¼•æ‰¾åˆ°æ›´è¯¦ç»†çš„å®šä¹‰ã€‚</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">/* Begin PBXNativeTarget section */</span><br><span class="line">		2EC5E1B11E7814B200BAB0EF /* EWork */ = &#123;</span><br><span class="line">			isa = PBXNativeTarget;</span><br><span class="line">			buildConfigurationList = 2EC5E1CC1E7814B200BAB0EF /* Build configuration list for PBXNativeTarget &quot;EWork&quot; */;</span><br><span class="line">			buildPhases = (</span><br><span class="line">				73F5AAE2AEC5EE766978C0E2 /* [CP] Check Pods Manifest.lock */,</span><br><span class="line">				2EC5E1AE1E7814B200BAB0EF /* Sources */,</span><br><span class="line">				2EC5E1AF1E7814B200BAB0EF /* Frameworks */,</span><br><span class="line">				2EC5E1B01E7814B200BAB0EF /* Resources */,</span><br><span class="line">				B42D03564A9A71BAD7183E61 /* [CP] Embed Pods Frameworks */,</span><br><span class="line">				4672989246AFA7B2776DFA56 /* [CP] Copy Pods Resources */,</span><br><span class="line">			);</span><br><span class="line">			buildRules = (</span><br><span class="line">			);</span><br><span class="line">			dependencies = (</span><br><span class="line">			);</span><br><span class="line">			name = EWork;</span><br><span class="line">			productName = EWork;</span><br><span class="line">			productReference = 2EC5E1B21E7814B200BAB0EF /* EWork.app */;</span><br><span class="line">			productType = &quot;com.apple.product-type.application&quot;;</span><br><span class="line">		&#125;;</span><br><span class="line">/* End PBXNativeTarget section */</span><br><span class="line"></span><br><span class="line">  // æ¯”å¦‚ XCConfigurationList</span><br><span class="line">  /* Begin XCConfigurationList section */</span><br><span class="line">  		2EC5E1AD1E7814B200BAB0EF /* Build configuration list for PBXProject &quot;EWork&quot; */ = &#123;</span><br><span class="line">  			isa = XCConfigurationList;</span><br><span class="line">  			buildConfigurations = (</span><br><span class="line">  				2EC5E1CA1E7814B200BAB0EF /* Debug */,</span><br><span class="line">  				2EC5E1CB1E7814B200BAB0EF /* Release */,</span><br><span class="line">  			);</span><br><span class="line">  			defaultConfigurationIsVisible = 0;</span><br><span class="line">  			defaultConfigurationName = Release;</span><br><span class="line">  		&#125;;</span><br><span class="line">  		2EC5E1CC1E7814B200BAB0EF /* Build configuration list for PBXNativeTarget &quot;EWork&quot; */ = &#123;</span><br><span class="line">  			isa = XCConfigurationList;</span><br><span class="line">  			buildConfigurations = (</span><br><span class="line">  				2EC5E1CD1E7814B200BAB0EF /* Debug */,</span><br><span class="line">  				2EC5E1CE1E7814B200BAB0EF /* Release */,</span><br><span class="line">  			);</span><br><span class="line">  			defaultConfigurationIsVisible = 0;</span><br><span class="line">  			defaultConfigurationName = Release;</span><br><span class="line">  		&#125;;</span><br><span class="line">  /* End XCConfigurationList section */</span><br></pre></td></tr></table></figure>
</code></pre><ul>
<li><p>ç¼–è¯‘åç”Ÿæˆçš„äºŒè¿›åˆ¶å†…å®¹ Link Map File</p>
<ul>
<li><p><a href="http://blog.csdn.net/theroadofprogrammers/article/details/54782062" target="_blank" rel="noopener">åº”ç”¨æ²™ç›’è·¯å¾„çš„è·å–</a></p>
</li>
<li><p>LinkMapFile</p>
<ul>
<li><p>é¦–å…ˆæ¥è¯´ä¸€è¯´ä»€ä¹ˆæ˜¯ LinkMap</p>
<ul>
<li>åœ¨iOSå¼€å‘é¢†åŸŸï¼ŒLinkMapçš„è¾“å‡ºæ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ ¼å¼çš„æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«é‡è¦çš„ç¼–è¯‘ä¿¡æ¯åŠæŠ¥é”™ä¿¡æ¯ï¼Œè¿™ä¹Ÿæ˜¯Appleç”¨æ¥åˆ†æä½ çš„åº”ç”¨çš„ä¸»è¦æ–¹å¼ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥å‘ç°åº”ç”¨ä¸­æ˜¯å¦ä½¿ç”¨äº†ç§æœ‰åº“ç­‰ä¸ç¬¦åˆAppleæäº¤åº”ç”¨è§„èŒƒçš„å†…å®¹ï¼Œä½†å¯¹äºæˆ‘ä»¬å¼€å‘äººå‘˜ï¼ŒLinkMapå´æ˜¯ä¸€ä¸ªç”¨äºåˆ†ææºç åŠæŸ¥çœ‹Crashçš„æœ‰æ•ˆé€”å¾„</li>
</ul>
</li>
<li><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ LinkMap</p>
<ul>
<li><p>å½“ä¸€ä¸ªä¸­å¤§å‹iOSé¡¹ç›®åœ¨ä¸æ–­è¿­ä»£æ›´æ–°çš„è¿‡ç¨‹ä¸­ï¼Œä»£ç é‡æ—¥æ¸å£®å¤§ï¼Œéœ€è¦é‡æ„å’Œreviewçš„ä»£ç ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œå¯ä¸€æ—¦ä»£ç è¾¾åˆ°ä¸€å®šç¨‹åº¦åå˜å¾—ä¸æ˜¯é‚£ä¹ˆå¯æ§ï¼Œä¸ºäº†ä½¿å¾—é¡¹ç›®è¿˜å¯ä»¥æŒç»­å¯é›†æˆç¨³å¥çš„å¼€å‘ä¸‹å»ï¼Œç¼©å°iOSå®‰è£…åŒ…å¤§å°æ˜¯å¿…é¡»è¦åšçš„äº‹æƒ…ï¼Œé€šå¸¸ä¼šä»å‹ç¼©å›¾ç‰‡å’ŒéŸ³é¢‘æ–‡ä»¶å¼€å§‹ï¼Œä½¿ç”¨å¼€å‘å·¥å…·æŸ¥æ‰¾å†—ä½™ä¸ç”¨çš„èµ„æºæ–‡ä»¶ï¼Œè¿™ä¸€é˜¶æ®µä¹‹ååªèƒ½é€šè¿‡å¯¹ä»£ç çš„é‡æ„æ¥è¾¾åˆ°å¯æ‰§è¡Œæ–‡ä»¶æ•´ä½“ç˜¦èº«çš„æ•ˆæœã€‚å½“ä»äº‹å‚ä¸çš„ä¸€ä¸ªé¡¹ç›®åœ¨ä¸æ–­è¿­ä»£è¿‡ç¨‹ä¸­ï¼ŒAppçš„å®‰è£…åŒ…åœ¨ä¸æ–­å˜å¤§ï¼Œé€šè¿‡è‡ªå·±çš„shellè„šæœ¬åˆ†æï¼Œå¤šè¾¾å‡ åä¸‡è¡Œï¼Œè¿™æ—¶å€™éå¸¸æœ‰ç˜¦èº«çš„å¿…è¦ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬äº†.h.m.mm.cpp.rssæ ¼å¼æ–‡ä»¶ã€‚è§‚å¯Ÿé¡¹ç›®ä¸­å¼•å…¥çš„Podsæ–‡ä»¶åŠç›¸å…³ç¬¬ä¸‰æ–¹åº“ï¼Œå¤šè¾¾ä¸Šç™¾ä¸ªåº“ï¼Œè¿™æ—¶å€™è¿™æ ·ä¸€ä¸ªä¸­å¤§å‹Appå°±æ¶‰åŠåˆ°åº”ç”¨ç˜¦èº«çš„é—®é¢˜ï¼Œå¦‚ä½•æ‰èƒ½æœ‰æ•ˆè§£å†³ä»£ç ä¸å¯æ§çš„é—®é¢˜ï¼Œå¦‚ä½•èƒ½æé«˜é¡¹ç›®ä¸­åº•å±‚åŸºç¡€æ¶æ„çš„ç¨³å®šæ€§åŠå¥å£®æ€§ï¼Œç›¸ä¿¡LinkMapèƒ½ç»™äºˆæˆ‘ä»¬ä¸€äº›ç­”æ¡ˆã€‚</p>
</li>
<li><p>LinkMap çš„æ„æˆ</p>
<ul>
<li>Appçš„ç¼–è¯‘è·¯å¾„ï¼ˆ#Pathï¼‰<ul>
<li><code># Path: /Users/lanya/Library/Developer/Xcode/DerivedData/littleTest-fcueraakmygtmodagachcreqjbjw/Build/Products/Debug/littleTest</code></li>
</ul>
</li>
<li>Appå¯¹åº”çš„æ¶æ„ï¼ˆ#Archï¼‰<ul>
<li><code># Arch: x86_64</code></li>
</ul>
</li>
<li>Appçš„å®Œæ•´çš„ç›®æ ‡æ–‡ä»¶åˆ—è¡¨ï¼ˆ#Object filesï¼‰</li>
<li>Appçš„æ®µè¡¨ï¼ˆ#Sectionï¼‰</li>
<li>Appä¸­å…·ä½“ç›®æ ‡æ–‡ä»¶åœ¨å¯¹åº”çš„sectionä¸­çš„ä½ç½®å’Œå¤§å°ï¼ˆ#Symbolsï¼‰</li>
</ul>
</li>
<li><p>LinkMapæœåŠ¡çš„å¼€å¯æ–¹å¼åŠæ–‡ä»¶ç›®å½•</p>
<ul>
<li>åœ¨ Build Settings é‡Œè®¾ç½® Write Link Map File ä¸º Yes åæ¯æ¬¡ç¼–è¯‘éƒ½ä¼šåœ¨æŒ‡å®šç›®å½•ç”Ÿæˆè¿™æ ·ä¸€ä¸ªæ–‡ä»¶ã€‚<code>Xcode-&gt;Project-&gt;Build Settings-&gt; Search map -&gt; è®¾ç½® Write Link Map Files é€‰é¡¹ä¸ºYES</code>ï¼ˆè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ä¸æ˜¯è®¾ç½®Pods.xcodeprojçš„LinkMapè€Œæ˜¯xxx-xxxxx.xcodeprojï¼Œå…¶ä»–é¡¹ç›®ä¹Ÿè¦å»è®¾ç½®ä¸»å·¥ç¨‹çš„å¯¹åº”ç¼–è¯‘é€‰é¡¹ï¼Œä»¥æ­¤ç±»æ¨</li>
<li>æ–‡ä»¶ä½äºæŒ‡å®šçš„è·¯å¾„ï¼Œé»˜è®¤æ˜¯åœ¨<code>~/Library/Developer/Xcode/DerivedData/xxx-xxx-fwtuexpkzxsfkjaootcqwizogrhf/Build/Intermediates/xx-xxx.build/Debug-iphonesimulator/xxx-xxx.build/xxx-xxx-LinkMap-normal-x86_64.txt</code></li>
<li>ä¾‹å¦‚ï¼šæˆ‘çš„ä¸€ä¸ªé¡¹ç›® LitteleTestï¼š<code>/Users/lanya/Library/Developer/Xcode/DerivedData/littleTest-fcueraakmygtmodagachcreqjbjw/Build/Intermediates.noindex/littleTest.build/Debug/littleTest.build/littleTest-LinkMap-normal-x86_64.txt</code></li>
</ul>
</li>
<li><p>ç°åœ¨æ¥è¯´ä¸€è¯´ LinkMap å„éƒ¨åˆ†çš„ä½œç”¨</p>
<ul>
<li><p>Appçš„å®Œæ•´çš„ç›®æ ‡æ–‡ä»¶åˆ—è¡¨ï¼ˆ#Object filesï¼‰ï¼š è¿™ä¸ªéƒ¨åˆ†çš„å†…å®¹éƒ½æ˜¯ .m æ–‡ä»¶ç¼–è¯‘åçš„ .o å’Œéœ€è¦ link çš„ .a æ–‡ä»¶ã€‚å‰é¢æ˜¯æ–‡ä»¶ç¼–å·ï¼Œåé¢æ˜¯æ–‡ä»¶è·¯å¾„ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> Object files:</span><br><span class="line">   [  0] linker synthesized</span><br><span class="line">   [  1] /Users/lanya/Library/Developer/Xcode/DerivedData/littleTest-fcueraakmygtmodagachcreqjbjw/Build/Intermediates.noindex/littleTest.build/Debug/littleTest.build/Objects-normal/x86_64/main.o</span><br><span class="line">   [  2] /Users/lanya/Library/Developer/Xcode/DerivedData/littleTest-fcueraakmygtmodagachcreqjbjw/Build/Intermediates.noindex/littleTest.build/Debug/littleTest.build/Objects-normal/x86_64/Test.o</span><br><span class="line">   [  3] /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.13.sdk/System/Library/Frameworks//Foundation.framework/Foundation.tbd</span><br><span class="line">   [  4] /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.13.sdk/usr/lib/libobjc.tbd</span><br></pre></td></tr></table></figure>
</li>
<li><p>Appçš„æ®µè¡¨ï¼ˆ#Sectionï¼‰ï¼šè¿™é‡Œæè¿°çš„æ˜¯æ¯ä¸ª Section åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„ä½ç½®å’Œå¤§å°ã€‚æ¯ä¸ª Section çš„ Segment çš„ç±»å‹åˆ†ä¸º <strong>TEXT ä»£ç æ®µå’Œ </strong>DATA æ•°æ®æ®µä¸¤ç§ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> Sections:</span><br><span class="line"><span class="meta">  #</span> Address	Size    	Segment	Section</span><br><span class="line">  0x100000B10	0x000002D9	__TEXT	__text</span><br><span class="line">  0x100000DEA	0x00000054	__TEXT	__stubs</span><br><span class="line">  0x100000E40	0x0000009C	__TEXT	__stub_helper</span><br><span class="line">  0x100000EDC	0x0000006E	__TEXT	__objc_methname</span><br><span class="line">  0x100000F4A	0x0000003B	__TEXT	__cstring</span><br><span class="line">  0x100000F85	0x00000007	__TEXT	__objc_classname</span><br><span class="line">  0x100000F8C	0x0000001D	__TEXT	__objc_methtype</span><br><span class="line">  0x100000FAC	0x00000048	__TEXT	__unwind_info</span><br><span class="line">  0x100001000	0x00000010	__DATA	__nl_symbol_ptr</span><br><span class="line">  0x100001010	0x00000070	__DATA	__la_symbol_ptr</span><br><span class="line">  0x100001080	0x00000060	__DATA	__cfstring</span><br><span class="line">  0x1000010E0	0x00000008	__DATA	__objc_classlist</span><br><span class="line">  0x1000010E8	0x00000008	__DATA	__objc_imageinfo</span><br><span class="line">  0x1000010F0	0x00000170	__DATA	__objc_const</span><br><span class="line">  0x100001260	0x00000020	__DATA	__objc_selrefs</span><br><span class="line">  0x100001280	0x00000008	__DATA	__objc_classrefs</span><br><span class="line">  0x100001288	0x00000008	__DATA	__objc_superrefs</span><br><span class="line">  0x100001290	0x00000010	__DATA	__objc_ivar</span><br><span class="line">  0x1000012A0	0x00000050	__DATA	__objc_data</span><br></pre></td></tr></table></figure>
</li>
<li><p>Appä¸­å…·ä½“ç›®æ ‡æ–‡ä»¶åœ¨å¯¹åº”çš„sectionä¸­çš„ä½ç½®å’Œå¤§å°ï¼ˆ#Symbolsï¼‰ï¼šSymbols æ˜¯å¯¹ Sections è¿›è¡Œäº†å†åˆ’åˆ†ã€‚è¿™é‡Œä¼šæè¿°æ‰€æœ‰çš„ methodsï¼Œivar å’Œå­—ç¬¦ä¸²ï¼ŒåŠå®ƒä»¬å¯¹åº”çš„åœ°å€ï¼Œå¤§å°ï¼Œæ–‡ä»¶ç¼–å·ä¿¡æ¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> Symbols:</span><br><span class="line">    # Address	Size    	File  Name</span><br><span class="line">    0x100000B10	0x00000106	[  1] _main</span><br><span class="line">    0x100000C20	0x000000A0	[  2] -[Test init]</span><br><span class="line">    0x100000CC0	0x00000060	[  2] -[Test setObject:]</span><br><span class="line">    0x100000D20	0x00000040	[  2] -[Test obj]</span><br><span class="line">    0x100000D60	0x00000040	[  2] -[Test setObj:]</span><br><span class="line">    0x100000DA0	0x00000049	[  2] -[Test .cxx_destruct]</span><br><span class="line">    0x100000DEA	0x00000006	[  3] _NSHomeDirectory</span><br><span class="line">    0x100000DF0	0x00000006	[  3] _NSLog</span><br><span class="line">    0x100000DF6	0x00000006	[  4] _objc_autoreleasePoolPop</span><br><span class="line">    0x100000DFC	0x00000006	[  4] _objc_autoreleasePoolPush</span><br><span class="line">    0x100000E02	0x00000006	[  4] _objc_autoreleaseReturnValue</span><br><span class="line">    0x100000E08	0x00000006	[  4] _objc_destroyWeak</span><br><span class="line">    0x100000E0E	0x00000006	[  4] _objc_loadWeakRetained</span><br><span class="line">    0x100000E14	0x00000006	[  4] _objc_msgSend</span><br><span class="line">    0x100000E1A	0x00000006	[  4] _objc_msgSendSuper2</span><br><span class="line">    0x100000E20	0x00000006	[  4] _objc_release</span><br><span class="line">    0x100000E26	0x00000006	[  4] _objc_retain</span><br><span class="line">    0x100000E2C	0x00000006	[  4] _objc_retainAutoreleasedReturnValue</span><br><span class="line">    0x100000E32	0x00000006	[  4] _objc_storeStrong</span><br><span class="line">    0x100000E38	0x00000006	[  4] _objc_storeWeak</span><br><span class="line">    0x100000E40	0x00000010	[  0] helper helper</span><br><span class="line">    0x100000E50	0x0000000A	[  3] _NSHomeDirectory</span><br><span class="line">    0x100000E5A	0x0000000A	[  3] _NSLog</span><br><span class="line">    0x100000E64	0x0000000A	[  4] _objc_autoreleasePoolPop</span><br><span class="line">    0x100000E6E	0x0000000A	[  4] _objc_autoreleasePoolPush</span><br><span class="line">    0x100000E78	0x0000000A	[  4] _objc_autoreleaseReturnValue</span><br><span class="line">    0x100000E82	0x0000000A	[  4] _objc_destroyWeak</span><br><span class="line">    0x100000E8C	0x0000000A	[  4] _objc_loadWeakRetained</span><br><span class="line">    0x100000E96	0x0000000A	[  4] _objc_msgSend</span><br><span class="line">    0x100000EA0	0x0000000A	[  4] _objc_msgSendSuper2</span><br><span class="line">    0x100000EAA	0x0000000A	[  4] _objc_release</span><br><span class="line">    0x100000EB4	0x0000000A	[  4] _objc_retain</span><br><span class="line">    0x100000EBE	0x0000000A	[  4] _objc_retainAutoreleasedReturnValue</span><br><span class="line">    0x100000EC8	0x0000000A	[  4] _objc_storeStrong</span><br><span class="line">    0x100000ED2	0x0000000A	[  4] _objc_storeWeak</span><br><span class="line">    0x100000EDC	0x00000006	[  1] literal string: alloc</span><br><span class="line">    0x100000EE2	0x00000014	[  1] literal string: initWithUTF8String:</span><br><span class="line">    0x100000EF6	0x00000020	[  1] literal string: stringByAppendingPathComponent:</span><br><span class="line">    0x100000F16	0x00000005	[  2] literal string: init</span><br><span class="line">    0x100000F1B	0x0000000B	[  2] literal string: setObject:</span><br><span class="line">    0x100000F26	0x0000000E	[  2] literal string: .cxx_destruct</span><br><span class="line">    0x100000F34	0x00000004	[  2] literal string: obj</span><br><span class="line">    0x100000F38	0x00000008	[  2] literal string: setObj:</span><br><span class="line">    0x100000F40	0x00000005	[  2] literal string: obj_</span><br><span class="line">    0x100000F45	0x00000005	[  2] literal string: _obj</span><br><span class="line">    0x100000F4A	0x00000009	[  1] literal string: starming</span><br><span class="line">    0x100000F53	0x0000000B	[  1] literal string: %@ rank %d</span><br><span class="line">    0x100000F5E	0x00000013	[  1] literal string: Documents/neuer.db</span><br><span class="line">    0x100000F71	0x00000003	[  1] literal string: %@</span><br><span class="line">    0x100000F74	0x00000004	[  2] literal string: obj</span><br><span class="line">    0x100000F78	0x0000000D	[  2] literal string: T@,W,N,V_obj</span><br><span class="line">    0x100000F85	0x00000005	[  2] literal string: Test</span><br><span class="line">    0x100000F8A	0x00000002	[  2] literal string: </span><br><span class="line">    0x100000F8C	0x00000008	[  2] literal string: @16@0:8</span><br><span class="line">    0x100000F94	0x0000000B	[  2] literal string: v24@0:8@16</span><br><span class="line">    0x100000F9F	0x00000008	[  2] literal string: v16@0:8</span><br><span class="line">    0x100000FA7	0x00000002	[  2] literal string: @</span><br><span class="line">    0x100000FAC	0x00000048	[  0] compact unwind info</span><br><span class="line">    0x100001000	0x00000008	[  0] non-lazy-pointer-to-local: dyld_stub_binder</span><br><span class="line">    0x100001008	0x00000008	[  0] non-lazy-pointer</span><br><span class="line">    0x100001010	0x00000008	[  3] _NSHomeDirectory</span><br><span class="line">    0x100001018	0x00000008	[  3] _NSLog</span><br><span class="line">    0x100001020	0x00000008	[  4] _objc_autoreleasePoolPop</span><br><span class="line">    0x100001028	0x00000008	[  4] _objc_autoreleasePoolPush</span><br><span class="line">    0x100001030	0x00000008	[  4] _objc_autoreleaseReturnValue</span><br><span class="line">    0x100001038	0x00000008	[  4] _objc_destroyWeak</span><br><span class="line">    0x100001040	0x00000008	[  4] _objc_loadWeakRetained</span><br><span class="line">    0x100001048	0x00000008	[  4] _objc_msgSend</span><br><span class="line">    0x100001050	0x00000008	[  4] _objc_msgSendSuper2</span><br><span class="line">    0x100001058	0x00000008	[  4] _objc_release</span><br><span class="line">    0x100001060	0x00000008	[  4] _objc_retain</span><br><span class="line">    0x100001068	0x00000008	[  4] _objc_retainAutoreleasedReturnValue</span><br><span class="line">    0x100001070	0x00000008	[  4] _objc_storeStrong</span><br><span class="line">    0x100001078	0x00000008	[  4] _objc_storeWeak</span><br><span class="line">    0x100001080	0x00000020	[  1] CFString</span><br><span class="line">    0x1000010A0	0x00000020	[  1] CFString</span><br><span class="line">    0x1000010C0	0x00000020	[  1] CFString</span><br><span class="line">    0x1000010E0	0x00000008	[  2] anon</span><br><span class="line">    0x1000010E8	0x00000008	[  0] objc image info</span><br><span class="line">    0x1000010F0	0x00000048	[  2] l_OBJC_METACLASS_RO_$_Test</span><br><span class="line">    0x100001138	0x00000080	[  2] l_OBJC_$_INSTANCE_METHODS_Test</span><br><span class="line">    0x1000011B8	0x00000048	[  2] l_OBJC_$_INSTANCE_VARIABLES_Test</span><br><span class="line">    0x100001200	0x00000018	[  2] l_OBJC_$_PROP_LIST_Test</span><br><span class="line">    0x100001218	0x00000048	[  2] l_OBJC_CLASS_RO_$_Test</span><br><span class="line">    0x100001260	0x00000008	[  1] pointer-to-literal-cstring</span><br><span class="line">    0x100001268	0x00000008	[  1] pointer-to-literal-cstring</span><br><span class="line">    0x100001270	0x00000008	[  1] pointer-to-literal-cstring</span><br><span class="line">    0x100001278	0x00000008	[  2] pointer-to-literal-cstring</span><br><span class="line">    0x100001280	0x00000008	[  1] objc-class-ref</span><br><span class="line">    0x100001288	0x00000008	[  2] anon</span><br><span class="line">    0x100001290	0x00000008	[  2] _OBJC_IVAR_$_Test.obj_</span><br><span class="line">    0x100001298	0x00000008	[  2] _OBJC_IVAR_$_Test._obj</span><br><span class="line">    0x1000012A0	0x00000028	[  2] _OBJC_CLASS_$_Test</span><br><span class="line">    0x1000012C8	0x00000028	[  2] _OBJC_METACLASS_$_Test</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>dSYM</p>
<ul>
<li>å®šä¹‰ï¼šåœ¨æ¯æ¬¡ç¼–è¯‘åéƒ½ä¼šç”Ÿæˆä¸€ä¸ª dSYM æ–‡ä»¶ï¼Œç¨‹åºåœ¨æ‰§è¡Œä¸­é€šè¿‡åœ°å€æ¥è°ƒç”¨æ–¹æ³•å‡½æ•°ï¼Œè€Œ dSYM æ–‡ä»¶é‡Œå­˜å‚¨äº†å‡½æ•°åœ°å€æ˜ å°„ï¼Œè¿™æ ·è°ƒç”¨æ ˆé‡Œçš„åœ°å€å¯ä»¥é€šè¿‡ dSYM è¿™ä¸ªæ˜ å°„è¡¨èƒ½å¤Ÿè·å¾—å…·ä½“å‡½æ•°çš„ä½ç½®ã€‚ä¸€èˆ¬éƒ½ä¼šç”¨æ¥å¤„ç† crash æ—¶è·å–åˆ°çš„è°ƒç”¨æ ˆ .crash æ–‡ä»¶å°†å…¶ç¬¦å·åŒ–ã€‚</li>
<li>ä½œç”¨ï¼š å½“releaseçš„ç‰ˆæœ¬ crashçš„æ—¶å€™,ä¼šæœ‰ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶,åŒ…å«å‡ºé”™çš„å†…å­˜åœ°å€, ä½¿ç”¨symbolicatecrashå·¥å…·èƒ½å¤ŸæŠŠæ—¥å¿—å’ŒdSYMæ–‡ä»¶è½¬æ¢æˆå¯ä»¥é˜…è¯»çš„logä¿¡æ¯,ä¹Ÿå°±æ˜¯å°†å†…å­˜åœ°å€,è½¬æ¢æˆç¨‹åºé‡Œçš„å‡½æ•°æˆ–å˜é‡å’Œæ‰€å±äºçš„ æ–‡ä»¶å.ï¼ˆå¦‚ä½•è®¾ç½® release ç‰ˆæœ¬ï¼Ÿ Product -&gt; scheme -&gt; EditSchemeï¼‰</li>
<li>å¦‚ä½•æ‰¾åˆ°ï¼š<code>/Users/ç”¨æˆ·å/Library/Developer/Xcode/DerivedData/littleTest-fcueraakmygtmodagachcreqjbjw/Build/Products/Release</code></li>
<li>dSYMå´©æºƒæ—¥å¿—çš„é”™è¯¯å®šä½ï¼šéœ€è¦ä½¿ç”¨ symbolicatecrash  è¿™ä¸ª Xcode è‡ªå¸¦çš„å·¥å…·è¿›è¡Œé”™è¯¯è½¬æ¢ã€‚ æ‰¾åˆ° symbolicatecrash ï¼š <code>find /Applications/Xcode.app -name symbolicatecrash -type f</code> <ul>
<li>æ‰¾åˆ°ä½ç½®ä¸ºï¼š <code>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/Library/PrivateFrameworks/DVTFoundation.framework/symbolicatecrash</code></li>
</ul>
</li>
<li>ä¹‹åå°† symbolicatecrashï¼Œ crashï¼Œ dSYM æ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹</li>
<li>å…·ä½“æ“ä½œè¯·çœ‹è¿™ç¯‡ï¼š<a href="http://www.jianshu.com/p/0b6f5148dab8">æ€»ç»“çš„å¾ˆå¥½</a></li>
</ul>
</li>
<li><p>Mach-O æ–‡ä»¶</p>
<ul>
<li>é¦–å…ˆæ¥çœ‹çœ‹<a href="https://en.wikipedia.org/wiki/Fat_binary" target="_blank" rel="noopener">èƒ–äºŒè¿›åˆ¶çš„å«ä¹‰</a>ï¼šä»¥ä¸Šæ˜¯ç»´åŸºç™¾ç§‘çš„è§£é‡Šï¼Œä½†æ˜¯ä¸»è¦æ¥è¯´ï¼Œèƒ–äºŒè¿›åˆ¶æ˜¯æ¯”æ™®é€šäºŒè¿›åˆ¶æ–‡ä»¶çš„å†…å®¹è¦å¤šçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå› ä¸ºå…¶ä¸­åŒ…å«äº†éœ€è¦æ”¯æŒä¸åŒCPUæ¶æ„çš„iOSè®¾å¤‡çš„å…¼å®¹ä¿¡æ¯ã€‚</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/3262069-4c9b4433ea0c503a.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="mach.gif"></p>
</li>
</ul>
<ul>
<li><p>å«ä¹‰ï¼šMach-Oï¼Œæ˜¯Mach objectæ–‡ä»¶æ ¼å¼çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§<a href="https://baike.baidu.com/item/%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6" target="_blank" rel="noopener">å¯æ‰§è¡Œæ–‡ä»¶</a>ã€<a href="https://baike.baidu.com/item/%E7%9B%AE%E6%A0%87%E4%BB%A3%E7%A0%81" target="_blank" rel="noopener">ç›®æ ‡ä»£ç </a>ã€å…±äº«<a href="https://baike.baidu.com/item/%E7%A8%8B%E5%BA%8F%E5%BA%93" target="_blank" rel="noopener">ç¨‹åºåº“</a>ã€åŠ¨æ€åŠ è½½ä»£ç å’Œæ ¸å¿ƒDUMPã€‚æ˜¯a.outæ ¼å¼çš„ä¸€ç§æ›¿ä»£ã€‚Mach-O æä¾›æ›´å¤šçš„å¯æ‰©å±•æ€§å’Œæ›´å¿«çš„<a href="https://baike.baidu.com/item/%E7%AC%A6%E5%8F%B7%E8%A1%A8" target="_blank" rel="noopener">ç¬¦å·è¡¨</a>ä¿¡æ¯å­˜å–ã€‚Mach-Oåº”ç”¨åœ¨åŸºäºMachæ ¸å¿ƒçš„ç³»ç»Ÿä¸Šï¼Œç›®å‰NeXTSTEPã€Darwinã€Mac OS Xï¼ˆiPhoneï¼‰éƒ½æ˜¯ä½¿ç”¨è¿™ç§<a href="https://baike.baidu.com/item/%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6" target="_blank" rel="noopener">å¯æ‰§è¡Œæ–‡ä»¶</a>æ ¼å¼ã€‚</p>
</li>
<li><p>è®°å½•ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯¹è±¡ä»£ç ï¼Œå…±äº«åº“ï¼ŒåŠ¨æ€åŠ è½½ä»£ç å’Œå†…å­˜è½¬å‚¨çš„æ–‡ä»¶æ ¼å¼ã€‚ä¸åŒäº xml è¿™æ ·çš„æ–‡ä»¶ï¼Œå®ƒåªæ˜¯äºŒè¿›åˆ¶å­—èŠ‚æµï¼Œé‡Œé¢æœ‰ä¸åŒçš„åŒ…å«å…ƒä¿¡æ¯çš„æ•°æ®å—ï¼Œæ¯”å¦‚å­—èŠ‚é¡ºåºï¼Œcpu ç±»å‹ï¼Œå—å¤§å°ç­‰ã€‚æ–‡ä»¶å†…å®¹æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ï¼Œå› ä¸ºåœ¨ .app ç›®å½•ä¸­æœ‰ä¸ª _CodeSignature çš„ç›®å½•ï¼Œé‡Œé¢åŒ…å«äº†ç¨‹åºä»£ç çš„ç­¾åï¼Œè¿™ä¸ªç­¾åçš„ä½œç”¨å°±æ˜¯ä¿è¯ç­¾åå .app é‡Œçš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬èµ„æºæ–‡ä»¶ï¼ŒMach-O æ–‡ä»¶éƒ½ä¸èƒ½å¤Ÿæ›´æ”¹ã€‚</p>
</li>
<li><p>Mach-O çš„å†…å®¹ï¼š</p>
<ul>
<li>Mach-O Headerï¼šåŒ…å«å­—èŠ‚é¡ºåºï¼Œmagicï¼Œcpu ç±»å‹ï¼ŒåŠ è½½æŒ‡ä»¤çš„æ•°é‡ç­‰</li>
<li>Load Commandsï¼šåŒ…å«å¾ˆå¤šå†…å®¹çš„è¡¨ï¼ŒåŒ…æ‹¬åŒºåŸŸçš„ä½ç½®ï¼Œç¬¦å·è¡¨ï¼ŒåŠ¨æ€ç¬¦å·è¡¨ç­‰ã€‚æ¯ä¸ªåŠ è½½æŒ‡ä»¤åŒ…å«ä¸€ä¸ªå…ƒä¿¡æ¯ï¼Œæ¯”å¦‚æŒ‡ä»¤ç±»å‹ï¼Œåç§°ï¼Œåœ¨äºŒè¿›åˆ¶ä¸­çš„ä½ç½®ç­‰ã€‚</li>
<li>åŸå§‹æ®µæ•°æ®ï¼ˆRaw segment dataï¼‰ï¼šå¯ä»¥æ‹¥æœ‰å¤šä¸ªæ®µï¼ˆsegmentï¼‰ï¼Œæ¯ä¸ªæ®µå¯ä»¥æ‹¥æœ‰é›¶ä¸ªæˆ–å¤šä¸ªåŒºåŸŸï¼ˆsectionï¼‰ã€‚æ¯ä¸€ä¸ªæ®µï¼ˆsegmentï¼‰éƒ½æ‹¥æœ‰ä¸€æ®µè™šæ‹Ÿåœ°å€æ˜ å°„åˆ°è¿›ç¨‹çš„åœ°å€ç©ºé—´ã€‚</li>
</ul>
</li>
<li><p>å…ˆçœ‹çœ‹æè¿°è¿™ä¸ªæ–‡ä»¶çš„ç»“æ„ä½“</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mach_header</span> &#123;</span></span><br><span class="line">  <span class="keyword">uint32_t</span>      magic;</span><br><span class="line">  <span class="keyword">cpu_type_t</span>    cputype;</span><br><span class="line">  <span class="keyword">cpu_subtype_t</span> cpusubtype;</span><br><span class="line">  <span class="keyword">uint32_t</span>      filetype;</span><br><span class="line">  <span class="keyword">uint32_t</span>      ncmds;</span><br><span class="line">  <span class="keyword">uint32_t</span>      sizeofcmds;</span><br><span class="line">  <span class="keyword">uint32_t</span>      flags;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">segment_command</span> &#123;</span></span><br><span class="line">  <span class="keyword">uint32_t</span>  cmd;</span><br><span class="line">  <span class="keyword">uint32_t</span>  cmdsize;</span><br><span class="line">  <span class="keyword">char</span>      segname[<span class="number">16</span>];</span><br><span class="line">  <span class="keyword">uint32_t</span>  vmaddr;</span><br><span class="line">  <span class="keyword">uint32_t</span>  vmsize;</span><br><span class="line">  <span class="keyword">uint32_t</span>  fileoff;</span><br><span class="line">  <span class="keyword">uint32_t</span>  filesize;</span><br><span class="line">  <span class="keyword">vm_prot_t</span> maxprot;</span><br><span class="line">  <span class="keyword">vm_prot_t</span> initprot;</span><br><span class="line">  <span class="keyword">uint32_t</span>  nsects;</span><br><span class="line">  <span class="keyword">uint32_t</span>  flags;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ ¹æ®è¿™ä¸ªç»“æ„ä½“ï¼Œéœ€è¦å…ˆå–å‡º magicï¼Œç„¶åæ ¹æ®åç§»é‡å–å‡ºå…¶å®ƒçš„ä¿¡æ¯ã€‚éå† ncmds èƒ½å¤Ÿè·å¾—æ‰€æœ‰çš„ segmentã€‚cputype åŒ…å«äº† CPU_TYPE_I386ï¼ŒCPU_TYPE_X86_64ï¼ŒCPU_TYPE_ARMï¼ŒCPU_TYPE_ARM64 ç­‰å¤šç§ CPU çš„ç±»å‹ã€‚</li>
</ul>
</li>
</ul>
<ul>
<li><p>Mach-O æ–‡ä»¶å‚è€ƒæ–‡ç« </p>
<ul>
<li><a href="http://www.jianshu.com/p/bcc7ba20f900">Mach-O å…·ä½“å®šä¹‰</a></li>
<li><a href="http://www.jianshu.com/p/8498cec10a41">è¶£è°ˆ Mach-OåŠ è½½è¿‡ç¨‹</a></li>
</ul>
</li>
</ul>
<ul>
<li>dyldåŠ¨æ€é“¾æ¥<ul>
<li>ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶åå°±æ˜¯åœ¨å¯åŠ¨æ—¶è¿›è¡ŒåŠ¨æ€é“¾æ¥äº†ï¼Œè¿›è¡Œç¬¦å·å’Œåœ°å€çš„ç»‘å®šã€‚é¦–å…ˆä¼šåŠ è½½æ‰€ä¾èµ–çš„ dylibsï¼Œä¿®æ­£åœ°å€åç§»ï¼Œå› ä¸º iOS ä¼šç”¨ ASLR æ¥åšåœ°å€åç§»é¿å…æ”»å‡»ï¼Œç¡®å®š Non-Lazy Pointer åœ°å€è¿›è¡Œç¬¦å·åœ°å€ç»‘å®šï¼ŒåŠ è½½æ‰€æœ‰ç±»ï¼Œæœ€åæ‰§è¡Œ load æ–¹æ³•å’Œ clang attribute çš„ constructor ä¿®é¥°å‡½æ•°ã€‚</li>
</ul>
</li>
</ul>
<ul>
<li>å‚è€ƒæ–‡ç« ï¼š <a href="http://blog.csdn.net/vincentiss/article/details/54617915" target="_blank" rel="noopener">æ·±å…¥å‰–æiOSç¼–è¯‘</a></li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iOSå­¦ä¹ /" rel="tag"># iOSå­¦ä¹ </a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/12/15/ç››å…°é›…çš„ä¸ªäººç®€å†/" rel="next" title="ç››å…°é›…çš„ä¸ªäººç®€å†">
                <i class="fa fa-chevron-left"></i> ç››å…°é›…çš„ä¸ªäººç®€å†
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/images/avatar/avatar.png"
                alt="shenglanya" />
            
              <p class="site-author-name" itemprop="name">shenglanya</p>
              <p class="site-description motion-element" itemprop="description">è®°å½•è‡ªå·±æˆé•¿çš„æ¯ä¸€æ­¥</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/lanyasheng" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:lanyasheng1997@gmail.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                link
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.jianshu.com/u/5e73c3aefeb5" title="ç®€ä¹¦" target="_blank">ç®€ä¹¦</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#å¸¸ç”¨çš„clangå‘½ä»¤"><span class="nav-number">1.</span> <span class="nav-text">å¸¸ç”¨çš„clangå‘½ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¼–è¯‘æµç¨‹"><span class="nav-number">2.</span> <span class="nav-text">ç¼–è¯‘æµç¨‹</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">shenglanya</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.3</div>




        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.3"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.3"></script>


  

</body>
</html>
